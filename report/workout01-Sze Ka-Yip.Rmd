---
title: "workout01-Sze Ka-Yip.Rmd"
author: "Sze Ka Yip"
date: "3/9/2019"
output: github_document
---

```{r out.width='80%', echo=FALSE, fig.align='center'}

knitr::include_graphics('gsw-shot-charts.png')

```


```{r}

library(dplyr)

dat <- read.csv(file='../data/shots-data.csv')
pt2t <- as.data.frame(table(dat$name, dat$shot_type=="2PT Field Goal"))
names(pt2t)[1] <-"name"
names(pt2t)[3] <-"total"
pt2t <- pt2t[pt2t[2] == TRUE, c(1,3)]
a<- ((dat$shot_made_flag=="shot_yes")  & (dat$shot_type=="2PT Field Goal") )
pt2m <- as.data.frame(table(dat$name, a))
pt2m <- pt2m[pt2m[2] == TRUE, 3]
table_pt2 <- data.frame(
  pt2t,
  made=pt2m)
table_pt2$perc_made <- table_pt2$made/table_pt2$total
table_pt2 <- arrange(table_pt2, desc(perc_made))
table_pt2_effective_shooting_by_player <- table_pt2
table_pt2_effective_shooting_by_player 
        
        
```
```{r}

pt3t <- as.data.frame(table(dat$name, dat$shot_type=="3PT Field Goal"))
names(pt3t)[1] <-"name"
names(pt3t)[3] <-"total"
pt3t <- pt3t[pt3t[2] == TRUE, c(1,3)]
a<- ((dat$shot_made_flag=="shot_yes")  & (dat$shot_type=="3PT Field Goal") )
pt3m <- as.data.frame(table(dat$name, a))
pt3m <- pt3m[pt3m[2] == TRUE, 3]
table_pt3 <- data.frame(
  pt3t,
  made=pt3m)
table_pt3$perc_made <- table_pt3$made/table_pt3$total
table_pt3 <- arrange(table_pt3, desc(perc_made))
table_pt3_effective_shooting_by_player <- table_pt3
table_pt3_effective_shooting_by_player


```
```{r}

tab<- (dat$shot_type=="3PT Field Goal") |  (dat$shot_type=="2PT Field Goal")
tab <-as.data.frame(table(dat$name, tab))
names(tab)[1] <-"name"
names(tab)[3] <-"total"
tab <-tab[ , c(1,3)]



made <- (dat$shot_made_flag=="shot_yes") & ((dat$shot_type=="3PT Field Goal") |  (dat$shot_type=="2PT Field Goal"))
made <-data.frame(table(dat$name, made))
made<-made[made[2]==TRUE, 3]


table23<-data.frame(
      tab,
      made)

table23$perc_made <- table23$made/ table23$total
table23 <- arrange(table23, desc(perc_made))
table23




```

